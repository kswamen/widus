<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="common/layout/basic">

<th:block layout:fragment="content">
	<div class="p-5 mb-4 bg-light rounded-3">
		<div class="container-fluid py-5">
			<form class="board_write_form">
				<input type="hidden" id="email" th:value="${user.getEmail()}">
				<div class="form-group">
					<label for="exampleFormControlInput1">Title</label>
					<input type="text" class="form-control" id="board_write_title" placeholder="Put title here...">
				</div>
				<div class="form-group">
					<label for="exampleFormControlSelect1">Example select</label>
					<select class="form-control" id="divisionSelect">
						<option th:each="division: ${divisionList}" th:key="${division.getKey()}" th:value="${division.getValue()}">
							[[${division.getValue()}]]
						</option>
					</select>
				</div>
				<div class="form-group">
					<label for="exampleFormControlTextarea1">Contents</label>
					<textarea name="contents" class="form-control" id="contents"></textarea>
				</div>
				<div class="board_write_submit_btn">
					<button type="button" onclick="submit_btn_click();" class="btn btn-primary">Primary</button>
				</div>
			</form>
		</div>
	</div>
</th:block>

<th:block layout:fragment="script">
	<script src="/ckeditor/ckeditor.js"></script>
	<script th:inline="javascript">
		/*<![CDATA[*/

		$(function () {
			CKEDITOR.replace('contents', {
				filebrowserUploadUrl: '/common/ckeditor/fileUpload',
				font_names: "맑은 고딕/Malgun Gothic;굴림/Gulim;돋움/Dotum;바탕/Batang;궁서/Gungsuh;Arial/Arial;Comic Sans MS/Comic Sans MS;Courier New/Courier New;Georgia/Georgia;Lucida Sans Unicode/Lucida Sans Unicode;Tahoma/Tahoma;Times New Roman/Times New Roman;MS Mincho/MS Mincho;Trebuchet MS/Trebuchet MS;Verdana/Verdana",
				font_defaultLabel: "맑은 고딕/Malgun Gothic",
				fontSize_defaultLabel: "12",
				language: "ko",
				skin: "moono-dark",
				height: "50vh"
			})
		});

		function submit_btn_click(s) {
			var email = /*[[ ${user.getEmail()} ]]*/ null;
			var title = $("#board_write_title").val();
			var contents = CKEDITOR.instances.contents.getData();
			var division = $("#divisionSelect option:selected").attr("key");
			
			console.log(email);
			console.log(title);
			console.log(contents);
			console.log(division);
		}


		/*[- end of function -]*/
		/*]]>*/
	</script>
</th:block>

<th:block layout:fragment="css">
	<link rel="stylesheet" th:href="@{/css/board_write.css}" />
</th:block>

</html>