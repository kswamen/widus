<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="common/layout/basic">
	
	<th:block layout:fragment="content">
		<div class="container">
			<div>
				<ul th:each="room : ${list}">
					<li>
						<a th:href="@{/chat/room(roomId=${room.roomId})}">[[${room.name}]]</a>
					</li>
				</ul>
			</div>
			<form th:action="@{/chat/room}" method = "post">
				<input type="text" name="name" class="form-control">
				<button class="btn btn-secondary">개설</button>
			</form>
		</div>
	</th:block>
	
	<th:block layout:fragment="script">
		<script th:inline="javascript">
			/*<![CDATA[*/
			
			$(document).ready(function(){
				var roomName = /*[[${roomName?.getName()}]]*/ null;
				console.log(roomName);
				if(roomName != null)
					alert(roomName + "방이 개설되었습니다.");
					
				$(".btn-create").on("click", function (e) {
					e.preventDefault();
					var name = $("input[name='name']").val();
					
					if(name == "")
						alert("Please write name.")
					else
						$("form").submit();
				});
			});
	
	
			/*[- end of function -]*/
			/*]]>*/
		</script>
	
	</th:block>

</html>